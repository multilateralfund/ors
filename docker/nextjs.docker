FROM node:18-alpine

WORKDIR /frontend
VOLUME ["/frontend/.next/"]

COPY frontend/package.json .
COPY frontend/package-lock.json .
RUN npm install --omit=optional

COPY frontend/ .
RUN npm run build

CMD ["npm", "run", "start"]